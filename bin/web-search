#!/usr/bin/env bash

set -e

web_search() {
    browser=/usr/bin/firefox
    search_engine="https://duckduckgo.com/q="

    if [ $# -eq 0 ]; then
        search_query=$(gum input --prompt "Web Search> " --placeholder "search quary" | tr " " "+")
    else 
        search_query=$(echo "$@" | tr " " "+")
    fi

    if [ -n "$search_query" ]; then
        "$browser" "${search_engine}${search_query}" &
    else
        echo "No search query entered."
    fi
}

web_search $@
